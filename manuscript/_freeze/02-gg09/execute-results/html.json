{
  "hash": "814c9b0da9d3aace84c825b33e94f379",
  "result": {
    "engine": "knitr",
    "markdown": "# Continuos-time Marriage Model\n\n\n::: {.cell}\n\n:::\n\n\nTo develop a continuous-time search and matching model of marriage, I build on the canonical framework of @greenwood2009. I begin by presenting their discrete-time formulation and then extend it to continuous time.\n\n## Discrete-time Model\n\nEconomy is populated by a continuum of infinitely-lived households. Each household has a marital status, single or married. In each period, each single  meets a potential partner with a match quality $b \\in \\mathcal{B}$.^[This match quality $b$ is also called \"bliss shock\" in @greenwood2009.] They marry if the expected value of being married exceeds that of being single. Each married household receives a flow utility $b$ from the match quality, and can divorce at any time. The match quality evolves stochastically over time, and households make their decisions based on the current match quality and the expected future values. At the end of each period, households exit the economy with probability $\\delta$, and new households (of which mass is $\\delta$) enter the economy as singles.\n\n**Household Allocation**\n\nLet $z \\in \\{1, 2\\}$ denote the number of adults in the household, i.e., $z = 1$ for singles and $z = 2$ for married household. Each household is endowed with $z$ unit of time, which can be allocated to market work $l$ and home hours $h$. Household obtain utility from consumption $c$ and home production $n$, which is a composite good from home goods $d$ and home hours $h$. The household's problem is given by\n\n$$\n\\max_{c, d, h} \\alpha \\log \\left(\\frac{c - \\overline{c}}{z^\\phi}\\right) + \\frac{1-\\alpha}{\\zeta} \\left(\\frac{n}{z^{\\phi}}\\right)^{\\zeta}\n$${#eq-utility-dt}\n\nsubject to\n\n$$\n\\begin{aligned}\nc + wpd &= w(z-h) \\\\\nn & = \\left(\\theta d^{\\kappa} + (1-\\theta)h^{\\kappa}\\right)^{\\frac{1}{\\kappa}},\n\\end{aligned}\n$$\n\nwhere $w$ is the wage rate and $p$ is the price of home goods (relative to the wage). The $\\overline{c}$ is the minium consumption level, and $\\phi$ captures the scale effect of household size on utility. The parameter $\\kappa$ captures the substitutability between home goods and home hours in home production, and the $\\theta$ is the share of home goods in home production.\n\nThe indirect utility function of @eq-utility-dt is denoted by $v(p, w, z)$.\n\n**Match Quality**\n\nSingle households meet potential partners with match quality $b$ drawn from a normal distribution:\n\n$$\nb \\sim \\mathcal{N}(\\mu_s, \\sigma_s^2),\n$${#eq-dist-match-single}\n\nwhere $\\mu_s$ and $\\sigma_s^2$ are the mean and variance of the match quality of singles. The cumulative distribution function of the match quality of singles is denoted by $F(b)$. The match quality of married households evolves according to an AR(1) process:\n\n$$\nb = (1-\\varrho)\\mu_m + \\varrho b_{-1} + \\sigma_{m}\\sqrt{1-\\varrho^2}\\xi, \\quad \\xi \\sim \\mathcal{N}(0, 1).\n$${#eq-ar1}\n\nThe cumulative distribution function of the match quality of married households is denoted by $G(b'|b)$.\n\n**Value Functions**\n\nThe value functions of married and single households, denoted by $V(b)$ and $W$, are given by\n\n$$\n\\begin{aligned}\nV(b) &= v(p, w, 2) + b + \\beta \\int_{\\mathcal{B}} \\max\\{V(b'), W\\} \\,dG(b'|b), \\\\\nW &= v(p, w, 1) + \\beta \\int_{\\mathcal{B}} \\max\\{V(b), W\\} \\,dF(b).\n\\end{aligned}\n$${#eq-bellman-dt}\n\nThe effective discount rate $\\beta := \\tilde{\\beta} (1 - \\delta)$ is the product of the discount factor $\\tilde{\\beta}$ and the survival probability $1 - \\delta$. The household chooses to marry if $V(b) \\geq W$ and remains single otherwise. Married households choose to divorce if $V(b) < W$ and remain married otherwise.\n\n**Stational Distribution**\n\nLet $s_{-1}$ and $\\mu_{-1}(b)$ be the density of singles and married households with match quality $b$ in the previous period. Then, the density of singles and married households with match quality $b$ in the current period, denoted by $s$ and $M(b)$, are given by\n\n$$\n\\begin{aligned}\ns &= \\delta + (1-\\delta)s_{-1}\\int_{\\mathcal{B}} \\mathbb{1}\\left\\{V(b) < W\\right\\} \\,dF(b)\\\\\n& + (1-\\delta)(1-s_{-1})\\int_{\\mathcal{B}}\\int_{\\mathcal{B}}^{b} \\mathbb{1}\\left\\{V(b') < W\\right\\} \\,dG(b'|b_{-1})\\,d\\mu_{-1}(b_{-1}),\\\\\nM(b) &= (1-\\delta)s_{-1}\\int_{\\mathcal{B}}^{b} \\mathbb{1}\\left\\{V(b') \\geq W\\right\\} \\,dF(b')\\\\\n& + (1-\\delta)(1-s_{-1})\\int_{\\mathcal{B}}\\int_{\\mathcal{B}}^{b}\\mathbb{1}\\left\\{V(b') \\geq W\\right\\} \\,dG(b'|b_{-1})\\,d\\mu_{-1}(b_{-1}).\n\\end{aligned}\n$${#eq-stationary-dt}\n\nThe stationary distribution is the fixed point of @eq-stationary-dt, i.e., $s = s_{-1}$ and $M(b) = \\mu_{-1}(b)$ for all $b \\in \\mathcal{B}$.\n\n**Equilibrium**\n\nTo close the model, the production side is defined as a linear technlogy, $y = wl$. The price of home goods $p$ is exogenously given. A stationary equilibrium is a tuple $\\{V(b), W, s, M(b)\\}$ such that\n\n1. $V(b)$ and $W$ satisfy @eq-bellman-dt\n1. $s$ and $M(b)$ is a stationary distribution that satisfies @eq-stationary-dt with $s = s_{-1}$ and $M(b) = \\mu_{-1}(b)$ for all $b \\in \\mathcal{B}$.\n\n\n## Continuous-time Model\n\nConsider a continuous-time version of the model. While the household allocation are the same as in the discrete-time model, the timing of events is different. In continuous time, households exit the economy with a constant hazard rate $\\nu$, and new households enter the economy as singles with the same hazard rate $\\nu$. Each single household meets potential partners with a Poisson arrival rate $\\lambda$, and the match quality is drawn from the same distribution as in the discrete-time model. The match quality of married households evolves according to an Orenstein-Uhlenbeck (OU) process. The value functions satisfy Hamilton-Jacobi-Bellman (HJB) equations, and the stationary distribution is the solution to the Kolmogorov Forward (KF) equation.\n\n**Match Quality**\n\nSingle households meet potential partners with Poisson arrival rate $\\lambda$, and the match quality $b_t$ is drawn from a normal distribution @eq-dist-match-single, of which CDF and PDF is $F(b)$ and $f(b)$. The match quality of married households evolves according to an OU process:\n\n$$\nd b_t = \\eta(\\mu_m - b_t) dt + \\sigma_{m} dB_t,\n$$\n\nwhere $B_t$ is a standard Brownian motion.\n\n**Value Functions**\n\nLet $V(b)$ and $W$ be the value functions of married and single households. Single households choose to marry if $V(b) \\geq W$ and remain single otherwise. Married households choose to divorce if $V(b) < W$ and remain married otherwise. This implies the following variation inequality:\n\n$$\nV(b) \\geq W \\quad \\text{for all }b \\in \\mathcal{B},\n$$\n\nwhich define an endogenous marriage/divorce threshold:\n\n$$\nb^* = \\inf\\{b \\in \\mathcal{B} : V(b) \\geq W\\}.\n$$\n\nThe value functions satisfy the following HJB equations:\n\n$$\n\\begin{aligned}\n\\rho W &= v(p, w, 1) + \\lambda \\int_{b^*}^{\\infty} V(b') - W \\,dF(b'), \\\\\n\\rho V(b) &= v(p, w, 2) + b + \\eta(\\mu_m - b) \\frac{\\partial V(b)}{\\partial b} + \\frac{1}{2}\\sigma_m^2 \\frac{\\partial^2 V(b)}{\\partial b^2}.\n\\end{aligned}\n$${#eq-hjb}\n\nThe effective discount rate $\\rho$ is the sum of the discount rate and the exit rate, $\\rho = \\tilde{\\rho} + \\nu$.\n\n\n**Stationary Distribution**\n\nThe stationary distribution is the solution to the Kolmogorov Forward equation, which is given by\n\n$$\n0 = -\\frac{\\partial}{\\partial b}\\left[\\eta(\\mu_m - b)M(b)\\right] + \\frac{1}{2}\\sigma_m^2 \\frac{\\partial^2 M(b)}{\\partial b^2} + \\lambda s f(b) - \\nu M(b) \\quad \\text{for } b > b^*,\n$${#eq-kf}\n\nwhere $M(b)$ is the density of married households with match quality $b$, and $s$ is the mass of single households,\n\n$$\ns = 1 - \\int_{b^*}^{\\infty} M(b) \\, db.\n$${#eq-population-ct}\n\n**Equilibrium**\n\nA stationary equilibrium is a tuple $\\{V(b), W, s, M(b)\\}$ such that\n\n1. $V(b)$ and $W$ satisfy @eq-hjb\n1. $s$ and $M(b)$ is a stationary distribution that satisfies @eq-kf with @eq-population-ct for all $b > b^*$.\n\n## Estimation\n\n\n::: {#tbl-gg09-params .cell tbl-cap='**Parameter Values**.'}\n::: {.cell-output-display}\n\n```{=html}\n<!-- preamble start -->\n\n    <!-- tinytable mathjax start -->\n    <script id=\"MathJax-script\" async src=\"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\"></script>\n    <script>\n    MathJax = {\n      tex: {\n        inlineMath: [['$', '$'], ['\\\\(', '\\\\)']]\n      },\n      svg: {\n        fontCache: 'global'\n      }\n    };\n    </script>\n    <!-- tinytable mathjax end -->\n\n    <script src=\"https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.js\"></script>\n\n    <script>\n      // Create table-specific functions using external factory\n      const tableFns_irhwjr6b0e6it7noa2cs = TinyTable.createTableFunctions(\"tinytable_irhwjr6b0e6it7noa2cs\");\n      // tinytable span after\n      window.addEventListener('load', function () { tableFns_irhwjr6b0e6it7noa2cs.spanCell(16, 1, 1, 2) })\n      window.addEventListener('load', function () { tableFns_irhwjr6b0e6it7noa2cs.spanCell(12, 1, 1, 2) })\n      window.addEventListener('load', function () { tableFns_irhwjr6b0e6it7noa2cs.spanCell(1, 1, 1, 2) })\n      window.addEventListener('load', function () {\n          var cellsToStyle = [\n            // tinytable style arrays after\n          { positions: [ { i: '20', j: 1 }, { i: '20', j: 2 } ], css_id: 'tinytable_css_pmk0dn60u2pgyvnwu6kk',}, \n          { positions: [ { i: '0', j: 1 }, { i: '0', j: 2 } ], css_id: 'tinytable_css_k49ojcipj74yapro1r4k',}, \n          ];\n\n          // Loop over the arrays to style the cells\n          cellsToStyle.forEach(function (group) {\n              group.positions.forEach(function (cell) {\n                  tableFns_irhwjr6b0e6it7noa2cs.styleCell(cell.i, cell.j, group.css_id);\n              });\n          });\n      });\n    </script>\n\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/gh/vincentarelbundock/tinytable@main/inst/tinytable.css\">\n    <style>\n    /* tinytable css entries after */\n    #tinytable_irhwjr6b0e6it7noa2cs td.tinytable_css_pmk0dn60u2pgyvnwu6kk, #tinytable_irhwjr6b0e6it7noa2cs th.tinytable_css_pmk0dn60u2pgyvnwu6kk {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 0; --line-color-bottom: var(--tt-line-color); --line-color-left: var(--tt-line-color); --line-color-right: var(--tt-line-color); --line-color-top: var(--tt-line-color); --line-width-bottom: 0.1em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%;  }\n    #tinytable_irhwjr6b0e6it7noa2cs td.tinytable_css_k49ojcipj74yapro1r4k, #tinytable_irhwjr6b0e6it7noa2cs th.tinytable_css_k49ojcipj74yapro1r4k {  position: relative; --border-bottom: 1; --border-left: 0; --border-right: 0; --border-top: 1; --line-color-bottom: var(--tt-line-color); --line-color-left: var(--tt-line-color); --line-color-right: var(--tt-line-color); --line-color-top: var(--tt-line-color); --line-width-bottom: 0.05em; --line-width-left: 0.1em; --line-width-right: 0.1em; --line-width-top: 0.1em; --trim-bottom-left: 0%; --trim-bottom-right: 0%; --trim-left-bottom: 0%; --trim-left-top: 0%; --trim-right-bottom: 0%; --trim-right-top: 0%; --trim-top-left: 0%; --trim-top-right: 0%;  }\n    </style>\n    <div class=\"container\">\n      <table class=\"tinytable\" id=\"tinytable_irhwjr6b0e6it7noa2cs\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        \n        <thead>\n              <tr>\n                <th scope=\"col\" data-row=\"0\" data-col=\"1\">Parameter</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"2\">Value</th>\n              </tr>\n        </thead>\n        \n        <tbody>\n                <tr>\n                  <td data-row=\"1\" data-col=\"1\">Common Parameters</td>\n                  <td data-row=\"1\" data-col=\"2\">Common Parameters</td>\n                </tr>\n                <tr>\n                  <td data-row=\"2\" data-col=\"1\">$\\phi$</td>\n                  <td data-row=\"2\" data-col=\"2\">0.766</td>\n                </tr>\n                <tr>\n                  <td data-row=\"3\" data-col=\"1\">$\\alpha$</td>\n                  <td data-row=\"3\" data-col=\"2\">0.278</td>\n                </tr>\n                <tr>\n                  <td data-row=\"4\" data-col=\"1\">$\\zeta$</td>\n                  <td data-row=\"4\" data-col=\"2\">-1.901</td>\n                </tr>\n                <tr>\n                  <td data-row=\"5\" data-col=\"1\">$\\overline{c}$</td>\n                  <td data-row=\"5\" data-col=\"2\">0.131</td>\n                </tr>\n                <tr>\n                  <td data-row=\"6\" data-col=\"1\">$\\theta$</td>\n                  <td data-row=\"6\" data-col=\"2\">0.206</td>\n                </tr>\n                <tr>\n                  <td data-row=\"7\" data-col=\"1\">$\\kappa$</td>\n                  <td data-row=\"7\" data-col=\"2\">0.189</td>\n                </tr>\n                <tr>\n                  <td data-row=\"8\" data-col=\"1\">$\\mu_s$</td>\n                  <td data-row=\"8\" data-col=\"2\">-4.252</td>\n                </tr>\n                <tr>\n                  <td data-row=\"9\" data-col=\"1\">$\\sigma_s$</td>\n                  <td data-row=\"9\" data-col=\"2\">2.840</td>\n                </tr>\n                <tr>\n                  <td data-row=\"10\" data-col=\"1\">$\\mu_m$</td>\n                  <td data-row=\"10\" data-col=\"2\">0.521</td>\n                </tr>\n                <tr>\n                  <td data-row=\"11\" data-col=\"1\">$\\sigma_m$</td>\n                  <td data-row=\"11\" data-col=\"2\">0.825</td>\n                </tr>\n                <tr>\n                  <td data-row=\"12\" data-col=\"1\">Discrete-time</td>\n                  <td data-row=\"12\" data-col=\"2\">Discrete-time</td>\n                </tr>\n                <tr>\n                  <td data-row=\"13\" data-col=\"1\">$\\tilde{\\beta}$</td>\n                  <td data-row=\"13\" data-col=\"2\">0.960</td>\n                </tr>\n                <tr>\n                  <td data-row=\"14\" data-col=\"1\">$\\delta$</td>\n                  <td data-row=\"14\" data-col=\"2\">0.021</td>\n                </tr>\n                <tr>\n                  <td data-row=\"15\" data-col=\"1\">$\\varrho$</td>\n                  <td data-row=\"15\" data-col=\"2\">0.896</td>\n                </tr>\n                <tr>\n                  <td data-row=\"16\" data-col=\"1\">Continuous-time</td>\n                  <td data-row=\"16\" data-col=\"2\">Continuous-time</td>\n                </tr>\n                <tr>\n                  <td data-row=\"17\" data-col=\"1\">$\\lambda$</td>\n                  <td data-row=\"17\" data-col=\"2\">1000.000</td>\n                </tr>\n                <tr>\n                  <td data-row=\"18\" data-col=\"1\">$\\tilde{\\rho}$</td>\n                  <td data-row=\"18\" data-col=\"2\">62.328</td>\n                </tr>\n                <tr>\n                  <td data-row=\"19\" data-col=\"1\">$\\nu$</td>\n                  <td data-row=\"19\" data-col=\"2\">21.506</td>\n                </tr>\n                <tr>\n                  <td data-row=\"20\" data-col=\"1\">$\\eta$</td>\n                  <td data-row=\"20\" data-col=\"2\">0.110</td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n<!-- hack to avoid NA insertion in last line -->\n```\n\n:::\n:::\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}